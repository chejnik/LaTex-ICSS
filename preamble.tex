\documentclass[ draft
              , demo  % black boxes instead of figures
              , 8pt, c5paper, twoside, openright]{extbook}

%\documentclass[10pt, a4paper, twoside, openright]{extbook}
%\documentclass[ 8pt, B5paper, twoside, openright]{extbook} 
% change picture width from 7.2cm to 6cm

\usepackage[ headsep    =   \baselineskip
           , textwidth  = 42\baselineskip
           , textheight = 60\baselineskip
           , hmarginratio = 2:3
           , vmarginratio = 2:3
           , bindingoffset = 0cm % this might be useful
           %, showframe
           ]{geometry}


% ####################################### LANGUAGES, ENCODING, FONTS, SYMBOLS #

\usepackage[icelandic, latin, czech]{babel}
\usepackage{csquotes}

\usepackage[utf8]{inputenc}
\DeclareUnicodeCharacter{00A0}{~} % finds hidden non-breakable space
\usepackage[T1]{fontenc}

\usepackage{tgpagella}
\usepackage{stmaryrd}
\usepackage{dingbat}
\usepackage{manfnt}
\usepackage{latexsym}
\usepackage{pifont}

\usepackage[scaled=0.88]{helvet} % ss
\def\phvfamily{\fontfamily{phv}\selectfont}



% ######################################################### ASSORTED PACKAGES #

\usepackage{tikz}
\usetikzlibrary{calc}

\usepackage{tipa}                      % IPA phonetics

\usepackage{fourier-orns}              % ornaments
\usepackage{amsmath}                   % non-breakable dash
\usepackage{hyphenat}                  % no hyphen in abbreviations

\usepackage{hanging}
\usepackage{fix2col}
\usepackage{fancyhdr}
\usepackage{fixltx2e}                  % subscript
\usepackage{afterpage}                 % Used in coloring trick for covers
\usepackage{pdfpages}

\usepackage{multirow}
\usepackage{multicol}
\usepackage{rotating}

%\usepackage{etoolbox} % http://ctan.org/pkg/etoolbox

\usepackage[ISBN=978-80-260-2385-2,SC0]{ean13isbn}

\usepackage{pgffor}

% ############################################################ DRAFTING TOOLS #

\usepackage{eso-pic}
\usepackage{tikzpagenodes}

% Command to draw a baseline grid
\newcommand\drawbaselinegrid{%
  \begin{tikzpicture}[overlay,remember picture]
    \draw [red!30!white, ultra thin, dashed]
      (0,0) grid [ ystep  = \baselineskip, xstep = \textwidth
                 , shift  = (current page text area.north west)
                 , yshift = -\dp\strutbox
                 ] ++(\textwidth,-\textheight);
    \draw [red!30!white, thin]
      (0,0) grid [ step = \baselineskip, xstep = \textwidth
                 , shift=(current page text area.north)
                 ] ++(0.5\textwidth,-\textheight)
      (0,0) grid [ step = \baselineskip, xstep = \textwidth
                 , shift=(current page text area.north)
                 ] ++(-0.5\textwidth,-\textheight);
    \draw[black!10!white]
      (current page text area.north west)
        rectangle (current page text area.south east);
  \end{tikzpicture}}

% Draw a baseline grid on every page
\AddToShipoutPicture{\drawbaselinegrid}


% ####################################################### HYPERREF & PDF INFO #

% unicode neccessary so that national characters in hypersetup appear ok
\usepackage[pdftex, unicode, hyperfootnotes=false]{hyperref}

% hyperlinks in black
\makeatletter
\let\Hy@linktoc\Hy@linktoc@none
\makeatother

\hypersetup
  { pdftitle={Islandsko-český studijní slovník}
  , pdfauthor={Aleš Chejn, Jón Gíslason, Ján Zaťko}
  , pdfsubject={Islandsko-český studijní slovník}
  , pdfkeywords={Islandsko-český studijní slovník%
               , islandština, čeština, slovník}
  , colorlinks=true
  , citecolor=black
  , urlcolor=darkgreen
  , linkcolor=black}


% ################################################################## METADATA #

\title{%
  \textbf{Islandsko-český studijní slovník}
  \thanks{Tato kniha byla vytvořena v \LaTeX{}u pod Ubuntu 14.04. Poděkování patří všem autorům, kteří publikují pod svobodnými licencemi.}}
\author{Aleš Chejn, Ján Zaťko, Jón Gíslason}
\date{říjen 2011}


% ############################################################## BIBLIOGRAPHY #

\usepackage[style=authoryear]{biblatex}
\addbibresource{slovnik.bib}


% ##################################################################### INDEX #

\usepackage{makeidx}

% index of authors of photographs
\makeindex

% icelandic rules start
\usepackage{filecontents}
\begingroup % to limit scope of \mygroup
\def\mygroup#1{\textbf{#1}}
\begin{filecontents*}{mal-style.xdy}
;; mal-style.xdy
(markup-letter-group :open-head "~n\mygroup{" :close-head "}")
\end{filecontents*}
\endgroup
% icelandic rules end


% ############################################################### PAGE STYLES #

\pagestyle{fancy}

% -------------------------------------- BASIC PAGE STYLE
\fancypagestyle{basicstyle}{
  \fancyhf\relax                       % Clear header/footer
  \renewcommand \headrulewidth {0.0pt} % No header rule
  \renewcommand \footrulewidth {0.0pt} % No footer rule
  \fancyfoot[C]{\thepage}              % Page number in footer, centred
}

% -------------------------------------- INDEX PAGE STYLE  
\fancypagestyle{indexstyle}{
  \fancyhf\relax                       % Clear header/footer
  \renewcommand \headrulewidth {0.4pt} % Thin header rule
  \renewcommand \footrulewidth {0.0pt} % No footer rule
  \fancyhead[C]{\thepage}              % Page number in footer, centred
 }

% -------------------------------------- DICTIONARY PAGE STYLE
\fancypagestyle{dictstyle}{
  \fancyhf\relax                       % Clear header/footer
  \renewcommand \headrulewidth {0.4pt} % Thin header rule
  \fancyhead[CO,CE]{\thepage}          % Page number in header, centred
  % NOTE: the page numbers will be printed when the dictionary is ready
  \fancyhead[LE,LO]{\phvfamily\bfseries\rightmark}
  \fancyhead[RE,RO]{\phvfamily\bfseries\leftmark}
}
  

% #################################################################### LAYOUT #

% middle rule
\setlength\columnsep    {\baselineskip}
\setlength\columnseprule{0.4pt}

\raggedbottom

% Temporarily suppress warnings
\hbadness=10000
\vbadness=10000

\setlength\parskip{0pt}               % better avoid glue
\setlength\emergencystretch{10pt}     % to temporarily settle overf hboxes
%\renewcommand\baselinestretch{1.025}
%\setlength\baselineskip{9.6pt}


% ##################################################################### LISTS #

\usepackage{expdlist}
\usepackage{enumitem}

\setlist{nosep, topsep=\baselineskip}
\setlist[itemize]{leftmargin=*,label=\scalebox{.6}{\textbullet}}


% #################################################################### FLOATS #

\usepackage{caption}
\captionsetup{labelformat=empty}

% Alter some LaTeX defaults for better treatment of figures:
% See p.105 of "TeX Unbound" for suggested values. 
% See pp. 199-200 of Lamport's "LaTeX" book for details.
% ------------------------------------- Parameters for ALL pages:
\renewcommand \topfraction    {0.9}   %   max fraction of floats at top
\renewcommand \bottomfraction {0.8}   %   max fraction of floats at bottom
% ------------------------------------- Parameters for TEXT (non float) pages:
\setcounter{topnumber}    {1}
\setcounter{bottomnumber} {1}
\setcounter{totalnumber}  {1}         %   2 may work better
\setcounter{dbltopnumber} {2}         %   for 2-column pages
\renewcommand \dbltopfraction   {0.9} %   fit big float above 2-col. text
\renewcommand \textfraction     {0.07}%   allow minimal text w. figs
% ------------------------------------- Parameters for FLOAT (non text) pages:
\renewcommand \floatpagefraction{0.7} %   require fuller float pages
% N.B.: floatpagefraction MUST be less than topfraction !!
\renewcommand{\dblfloatpagefraction}{0.7} % require fuller float pages
% remember to use [htp] or [htpb] for placement

\makeatletter
\setlength{\@fptop}{0pt}
\setlength{\@fpbot}{0pt plus 1fil}
\makeatother

% This kills spacing around floats
\setlength \intextsep        {0pt}
\setlength \floatsep         {0pt}
\setlength \textfloatsep     {0pt}
\setlength \dbltextfloatsep  {0pt}
\setlength \dblfloatsep      {0pt}

% This kills spacing around captions
\setlength \abovecaptionskip {0pt}
\setlength \belowcaptionskip {0pt}


% #################################################################### TABLES #

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{ltxtable}

%\LetLtxMacro\oldtabularx\tabularx
%\LetLtxMacro\oldendtabularx\endtabularx
%\newenvironment{shorttabularx}[2]
%  {\oldtabularx{#1}{#2}}
%  {\oldendtabularx}

\newcommand\LTXfw[1]{\LTXtable{\columnwidth}{#1}}

%\LetLtxMacro\oldtabularx\tabularx
%\LetLtxMacro\oldendtabularx\endtabularx
%\newenvironment{longtabularx}[2]
%  {\oldtabularx{#1}{#2}}
%  {\oldendtabularx}

% ------------------------------------------------- I HAVE NO CLUE WHAT THIS IS
\begingroup
  \makeatletter
  \catcode`\-=\active
  \AtBeginDocument{
  \def\@@@cmidrule[#1-#2]#3#4{\global\@cmidla#1\relax
    \global\advance\@cmidla\m@ne
    \ifnum\@cmidla>0\global\let\@gtempa\@cmidrulea\else
    \global\let\@gtempa\@cmidruleb\fi
    \global\@cmidlb#2\relax
    \global\advance\@cmidlb-\@cmidla
    \global\@thisrulewidth=#3
    \@setrulekerning{#4}
    \ifnum\@lastruleclass=\z@\vskip \aboverulesep\fi
    \ifnum0=`{\fi}\@gtempa
    \noalign{\ifnum0=`}\fi\futurenonspacelet\@tempa\@xcmidrule}
  }
\endgroup

% These values ensure that for top, mid and bottom rules
% space above + rule width + space below = baselineskip
\setlength \abovetopsep    {0.43\baselineskip}
\setlength \heavyrulewidth {0.10\baselineskip}
\setlength \belowbottomsep {0.43\baselineskip}
\setlength \aboverulesep   {0.47\baselineskip}
\setlength \lightrulewidth {0.06\baselineskip}
\setlength \belowrulesep   {0.47\baselineskip}

%\usepackage{letltxmacro}

%%% \LetLtxMacro\oldtabular\tabular
%%% \LetLtxMacro\oldendtabular\endtabular
%%% \renewenvironment{tabular}[2][t]
%%%   {\oldtabular[#1]{#2}}
%%%   {\oldendtabular}

%%% \LetLtxMacro\oldtable\table
%%% \LetLtxMacro\oldendtable\endtable
%%% \renewenvironment{table}[1][h]
%%%   {\leavevmode\oldtable[#1]\vspace{\dp\strutbox}}
%%%   {\vspace{-\dp\strutbox}\oldendtable}
%%%   % This aligns a [t] aligned tab-envo to baseline grid


%%% % declention and conjugation tables
%%% \usepackage{floatrow}
%%% \DeclareFloatFont{footnotesize}{\footnotesize}
%%% % "scriptsize" is defined by floatrow, "tiny" not
%%% \floatsetup[table]{font=footnotesize}

% ################################################################### FIGURES #

\usepackage{adjustbox} % loads also graphicx

\graphicspath{%
  {/home/chejnik/Dokumenty/hvalur.org/images/biolib/full/}%
  {/home/chejnik/Dokumenty/hvalur.org/images/uploaded_files/}}

\newlength\dicfigheight
\newlength\dicfigskip

\newcommand\dictionaryfigure[3]{ % {filename}{caption}{index entry}
  \setlength\fboxsep{0pt}\setlength\fboxrule{0.5pt}
  \def\dicfigbox{\fbox{%
    \adjincludegraphics [ max height = 0.8\columnwidth
                        , max width  = 0.8\columnwidth ] {#1}}}
  \setlength\abovecaptionskip {\dp\strutbox}
  \setlength\belowcaptionskip {\ht\strutbox} 
  \setlength\dicfigheight {\heightof\dicfigbox+\fboxrule}
  \setlength\dicfigskip
    {\baselineskip*\numexpr1+\dicfigheight/\baselineskip\relax-\dicfigheight}
  \begin{figure}[ht]
    \centering\vspace*{\dicfigskip}\dicfigbox\caption{#2}\index{#3}
  \end{figure}
}


% #################################################################### COLORS #

\usepackage{color}

% http://www.colorschemer.com/online.html
% main color - grammar color
% #66023C
\definecolor {darkgreen}          {rgb} {0.40, 0.01, 0.24}

\definecolor {royalazure}         {rgb} {0.00, 0.22, 0.66}
\definecolor {brown}              {rgb} {0.40, 0.01, 0.24}

% COLORS FOR THUMB INDEXES
\definecolor {babyblueeyes}       {rgb} {0.63, 0.79, 0.95}
\definecolor {unitednationsblue}  {rgb} {0.36, 0.57, 0.90}
\definecolor {blue(ryb)}          {rgb} {0.01, 0.28, 1.00}
\definecolor {darkblue}           {rgb} {0.00, 0.00, 0.55}
\definecolor {screamingreen}      {rgb} {0.46, 1.00, 0.44}
\definecolor {limegreen}          {rgb} {0.20, 0.80, 0.20}
\definecolor {islamicgreen}       {rgb} {0.00, 0.56, 0.00}
\definecolor {upforestgreen}      {rgb} {0.00, 0.27, 0.13}
\definecolor {icterine}           {rgb} {0.99, 0.97, 0.37}
\definecolor {orange(colorwheel)} {rgb} {1.00, 0.50, 0.00}
\definecolor {orange-red}         {rgb} {1.00, 0.27, 0.00}
\definecolor {oucrimsonred}       {rgb} {0.60, 0.00, 0.00}
\definecolor {cottoncandy}        {rgb} {1.00, 0.74, 0.85}
\definecolor {orchid}             {rgb} {0.85, 0.44, 0.84}
\definecolor {vividcerise}        {rgb} {0.85, 0.11, 0.51}
\definecolor {patriarch}          {rgb} {0.50, 0.00, 0.50}

\definecolor {title}              {RGB} {  16,   13,   32}
\definecolor {golden}             {RGB} { 241,  184,   45}
\definecolor {freqstar}           {RGB} {  91,    3,   99}
\definecolor {newdev}             {RGB} {   3,   11,   99}

\definecolor {color1}             {RGB} { 182,   86,    0}
\definecolor {color2}             {RGB} { 143,    9,    6}
\definecolor {color3}             {RGB} {   3,   23,  118}
\definecolor {color4}             {RGB} {   0,   82,  168}
\definecolor {color5}             {RGB} {   0,   85,  142}
\definecolor {color6}             {RGB} {   0,  115,  162}
\definecolor {color7}             {RGB} {  34,  146,  186}
\definecolor {color8}             {RGB} {  40,  159,  153}
\definecolor {color9}             {RGB} {   0,  125,  111}
\definecolor {color10}            {RGB} {   4,  107,   60}
\definecolor {color11}            {RGB} {  71,  134,   81}
\definecolor {color12}            {RGB} { 109,  134,   42}
\definecolor {color13}            {RGB} { 205,  194,   18}
\definecolor {color14}            {RGB} { 204,  162,   24}

%\definecolor {color1}             {RGB} { 239,  222,  205}
%\definecolor {color2}             {RGB} { 251,  206,  177}
%\definecolor {color3}             {RGB} { 251,  185,  142}
%\definecolor {color4}             {RGB} { 248,  166,  112}
%\definecolor {color5}             {RGB} { 216,  231,  246}
%\definecolor {color6}             {RGB} { 186,  215,  244}
%\definecolor {color7}             {RGB} { 152,  197,  243}
%\definecolor {color8}             {RGB} { 118,  181,  245}
%\definecolor {color9}             {RGB} { 181,  249,  185}
%\definecolor {color10}            {RGB} { 160,  248,  167}
%\definecolor {color11}            {RGB} { 128,  247,  136}
%\definecolor {color12}            {RGB} {  87,  248,   98}
%\definecolor {color13}            {RGB} { 250,  241,  138}
%\definecolor {color14}            {RGB} { 250,  240,  111}
%\definecolor {color15}            {RGB} { 244,  239,   85}
%\definecolor {color16}            {RGB} { 245,  239,   57}

\definecolor {lightgrey}          {RGB} { 105,  105,  105}
\definecolor {darkgreen_real}     {rgb} {0.00, 0.50, 0.00}


% ############################################################# THUMB INDEXES #

% Thumb indexes' colors
%\newcommand\BoxColor{%
%  \ifcase\theletternum darkgreen!30\or babyblueeyes\or unitednationsblue\or blue(ryb)\or screamingreen\or limegreen\or islamicgreen\or upforestgreen\or icterine\or orange(colorwheel)\or orange-red%
%  \or oucrimsonred\or cottoncandy\or orchid\or vividcerise\or patriarch\or babyblueeyes\or unitednationsblue\or blue(ryb)\or screamingreen\or limegreen\or islamicgreen\or upforestgreen\or icterine\or orange(colorwheel)\or orange-red%
%  \or oucrimsonred\or cottoncandy\or orchid\or vividcerise\or patriarch\else darkgreen!30\fi}
  
% Thumb indexes' colors
%\newcommand\BoxColor{%
%  \ifcase\theletternum darkgreen!30\or color1\or color2\or color3\or color4\or color5\or color6\or color7\or color8\or color9\or color10%
%  \or color11\or color12\or color13\or color14\or color1\or color2\or color3\or color4\or color5\or color6\or color7\or color8\or color9%
%  \or color10\or color11\or color12\or color13\or color14\or color1\or color2\or color3\or color4\or color5\or color6\else color7\or color8\or color9\or color10\or color11\or color12\fi}

%\def\BoxColor#1{darkgreen!\the\numexpr103-#1-#1-#1\relax!blue}

\newcommand\BoxColor[1]{%
\ifcase#1 darkgreen!30\or color13\or color14\or color1\or color2\or color3\or color4\or color5\or color6\or color7\or color8\or color9\or color10%
\or color11\or color12\or color13\or color14\or color1\or color2\or color3\or color4\or color5\or color6\or color7\or color8\or color9%
\or color10\or color11\or color12\or color13\or color14\or color1\or color2\or color3\or color4\or color5\or color6\else color7\or color8\or color9\or color10\or color11\or color12\fi}

% THUMB INDEXES
% new counter to hold the current number of the letter to determine the vertical position
\newcounter{letternum}
% newcounter for the sum of all letters to get the right height of a box
\newcounter{lettersum}
\setcounter{lettersum}{34}
% some margin settings
\newlength{\thumbtopmargin}
\setlength{\thumbtopmargin}{1cm}
\newlength{\thumbbottommargin}
\setlength{\thumbbottommargin}{2.5cm}
% calculate the box height by dividing the page height
\newlength{\thumbheight}
\pgfmathsetlength{\thumbheight}{%
(\paperheight-\thumbtopmargin-\thumbbottommargin)%
/%
\value{lettersum}
}
% box width
\newlength{\thumbwidth}
\setlength{\thumbwidth}{0.5cm}
% style the boxes
\tikzset{
thumb/.style={
   text=white,
   minimum height=\thumbheight,
   text width=\thumbwidth,
   outer sep=0pt,
   font=\sffamily\bfseries,
 }
 }

\def\thumbnew{}
\def\thumbold{}
\usepackage{everypage}
\AddEverypageHook{\if\relax\thumbnew\relax\xdef\thumbnew{\thumbold}\fi}

\def\ethumbs#1,#2\relax{\if\relax#1\relax\else\eventhumb{#1}\fi%
                        \if\relax#2\relax\else\ethumbs#2\relax\fi%
                        \gdef\thumbnew{}%
                        \gdef\thumbold{#1,}%
}

\def\othumbs#1,#2\relax{\if\relax#1\relax\else\oddthumb{#1}\fi%
                        \if\relax#2\relax\else\othumbs#2\relax\fi%
                        \gdef\thumbold{#1,}%
                        \gdef\thumbnew{}%
}

\newcommand{\drawthumb}[2]{%
  % see pgfmanual.pdf for more information about this part
  \begin{tikzpicture}[remember picture, overlay]
    \node [thumb, fill=\BoxColor{#1}, text centered, anchor=north #2]
       at ($(current page.north #2)-%
%            (0,\thumbtopmargin+\value{letternum}*\thumbheight)%
            (0,\thumbtopmargin+#1*\thumbheight)$) {\csname Let#1\endcsname};
   \end{tikzpicture}}

% I had to exchange the east/west anchors of the thumbs
% because they were being drawn flipped. I don't know why.
\newcommand{\oddthumb} [1]{\drawthumb{#1}{west}}
\newcommand{\eventhumb}[1]{\drawthumb{#1}{east}}

% create a new command to set a new lettergroup with thumb indexes
\newcommand{\lettergroup}[1]{%
  % step the counter of the letters
  \refstepcounter{letternum}%
  \expandafter\gdef\csname Let\theletternum\endcsname{#1}%
  \xdef\thumbnew{\theletternum,\thumbnew}%
  \fancyhead[LO]{\phvfamily\bfseries\rightmark%
    \expandafter\ethumbs\thumbnew\relax\relax\relax}%
  \fancyhead[RE]{\phvfamily\bfseries\leftmark%
    \expandafter\othumbs\thumbnew\relax\relax\relax}%
}


% ############################################################## LOCALIZATION #

% renames the index name
\addto\captionsczech{%
  \renewcommand\indexname{{Seznam autorů fotografií a ilustrací}}}

% renames the contents name
\addto\captionsczech{%
  \renewcommand\contentsname{Obsah}}

\renewcommand \contentsname {Obsah}
\renewcommand \chaptername  {Kapitola}


% ################################################################ SECTIONING #
\usepackage[explicit]{titlesec}

\setlength{\beforetitleunit}{\baselineskip}
\setlength{\aftertitleunit} {\baselineskip}

\titlespacing*{\chapter}   {0em}{*0}{*2}
\titlespacing*{\section}   {0em}{*0}{*2}
\titlespacing*{\subsection}{0em}{*0}{*2}

\newcommand\ghostdrop[2]{%
  \raisebox{-#1\baselineskip}[0pt][0pt]{#2}}

% GOT TO PUT PARBOXES FOR MULTILINE TITLES

\titleformat {\chapter} [block] {\centering\bfseries} {} {0pt}
  {\ghostdrop{1.0}{\huge\MakeUppercase{#1}}}
  % PROBLEM HERE 1.0 ok for onecolumn 1.3 ok for 2col --- WHY?!
  % 0.3\baseline = \dp\strutbox so it's not a magic number!

\titleformat {\section} {\bfseries} {} {0pt}
  {\ghostdrop{1.0}{\Large#1}}

\titleformat {\subsection} {\bfseries} {} {0pt}
  {\ghostdrop{1.0}{\large#1}}


% ######################################################### TABLE OF CONTENTS #
\usepackage{titletoc}

\titlecontents {chapter} [0pt] {\addvspace\baselineskip\bfseries}
  {} {} {\titlerule*[2\baselineskip]{}\contentspage}

\titlecontents {section} [\baselineskip] {} {} {}
  {\titlerule*[2\baselineskip]{.}\contentspage}


% #################################################### ASSORTED CUSTOM MACROS #

% frequent term star
\newcommand\freqstar{%
  \raisebox{-.2ex}{%
    \textcolor{darkgreen}{%
      \ding{167}}}}

% dictionary entry
\newcommand\entry[3][]{%
  \hangpara{1em}{1}{\phvfamily\bfseries#2}\ #3%
  \ifx\relax#1\relax\markboth{#2}{#2}\else\markboth{#1}{#1}\fi\par}

% dictionary entry with whitespace for the guide
\newcommand\entryguide[3][]{%
  \vspace{1.0\baselineskip}%z
  \hspace{1.0\baselineskip}\entry[#1]{#2}{#3}%
  \vspace{1.0\baselineskip}}

\newcommand*{\dictchar}[1]{%\clearpage
  \noindent\parbox[t][9\baselineskip][c]{\columnwidth}{
    \centering\fontsize{24}{24}\selectfont#1
    \par\xdef\tpd{\the\prevdepth}
  }\par\prevdepth\tpd}

  
%tabulky
\newcommand{\specialcell}[2][l]{%
\begin{tabular}[#1]{@{}l@{}}#2\end{tabular}}

\newcommand{\devision}[1]{\hspace*{-1em}{{\foreignlanguage{icelandic}{\color{newdev}{\phvfamily{#1}}}}}}
%default
%\newcommand{\devision}[1]{\hspace*{-2em}{{{{\foreignlanguage{icelandic}{\color{newdev}{\phvfamily{\textbf{#1}}}}}}}}}
%\newcommand{\devision}[1]{\hspace*{-2em}{{{\foreignlanguage{icelandic}{{\phvfamily{{\textit{#1}}}}}}}}}

\newcommand{\devisionguide}[1]{\hspace*{0.3cm}{{{{\foreignlanguage{icelandic}{\color{newdev}{\phvfamily{\textbf{#1}}}}}}}}}
\newcommand{\devisionguideindent}[1]{\hspace*{-0.1cm}{{{{\foreignlanguage{icelandic}{\color{newdev}{\phvfamily{\textbf{#1}}}}}}}}}

\newcommand\n{$n$\nobreakdash-\hspace{0pt}} %nonbreakable dash in grammar endings
\def \nobreakseq {\nobreak \hskip 0pt \hbox} %nolinebreak in case like (-s, -)

% rule line
%\newcommand{\HRule}{\rule{\linewidth}{0.1mm}}

% width of pdf found box
\newlength\eyja

\newcommand\strutsmash[1]{\strut\smash{#1}}

\newcommand\photoicon{\includegraphics{photo_icon}}

% #################################################################### COVERS #

\def\dictnameCZ{Islandsko-Český Studijní Slovník}
\def\dictnameIS{Íslensk-Tékknesk Stúdentaorðabók}

\newcommand*{\frontcoverimages}{%
  ds_image_blaberjalyng_0_2.jpg,
  ds_image_lundi_0_1.jpg,
  ds_image_hestur_0_1.jpg,
  ds_image_hrafnafifa_0_2.jpg,
  ds_image_baldursbra_0_1.jpg,
  20948.jpg,
  ds_image_hvalur_0_1.jpg,
  ds_image_blodberg_0_1.jpg}

\newcommand*{\backcoverimages}{%
  ds_image_spoi_0_1.jpg,
  ds_image_mosalyng_0_1.jpg,
  ds_image_blaklukkulyng_0_1.jpg,
  20787.jpg,
  ds_image_ufsi_0_2.jpg,
  ds_image_gullbra_0_1.jpg,
  ds_image_islandsfifill_0_2.jpg,
  21137.jpg}

\newcommand\makecover[1]{
 \pagecolor{title}\afterpage\nopagecolor
 \begin{center}
 \vspace*{0.3cm}%{\fill}
 {\fontsize{20}{24}\scshape\color{white}%
   \dictnameCZ\\\dictnameIS}
 \vspace*{1em}                        % I think this is necessary
 \begin{figure}[ht]\centering%
   \setlength\fboxsep{0pt}\setlength\fboxrule{0.5pt}%
   \foreach \file in \frontcoverimages{
     \fbox{\includegraphics[width=5.5cm]{\file}}}
 \end{figure}
 \vspace*{\fill}
 \end{center}
}

